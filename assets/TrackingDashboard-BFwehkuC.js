import{u as T,_ as tt}from"./useTracker-BaQ-do2c.js";import{d as N,r as C,c as p,o as i,a as d,b as t,t as u,u as A,w as I,v as B,e as z,F as M,f as E,g as F,n as L,h as Y,i as K,j as S,k as J,l as et}from"./index-DsleNGlg.js";import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-CezXVzgo.js";const rt={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},ot={class:"mb-4 flex items-center justify-between"},nt={class:"text-sm text-gray-500"},at={class:"mb-6 relative"},lt={class:"space-y-3"},it={class:"w-12 shrink-0 text-xs font-medium text-gray-400"},dt=["onClick"],ct=["onUpdate:modelValue","onBlur","onKeydown"],ut={key:1,class:"flex items-center justify-between"},gt={class:"text-sm font-medium text-gray-800 dark:text-white"},xt={key:0,class:"text-xs font-bold text-red-500"},pt=["onClick"],bt={key:0,class:"text-center py-8 text-sm text-gray-400"},mt=N({__name:"DailyTrackingBox",setup(O){const{addDailyEntry:h,getEntriesByDate:k,deleteDailyEntry:w}=T(),g=C(""),m=new Date().toISOString().split("T")[0],_=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",weekday:"short"}),v=p(()=>k(m).reverse()),b=()=>{const s=g.value.trim();if(!s)return;const o=s.match(/^(\d+)(\s+(.*))?$/);let a=s,c=0,$="general";o&&(c=parseInt(o[1]),a=o[3]?o[3].trim():"Expense",$="finance"),h({text:a,category:$,amount:c||void 0,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:m}),g.value=""},y=s=>{s.isEditing=!0},n=s=>{s.isEditing=!1};return(s,o)=>(i(),d("div",rt,[t("div",ot,[o[1]||(o[1]=t("h3",{class:"text-xl font-bold text-black dark:text-white"},"Daily Notes",-1)),t("div",nt,u(A(_)),1)]),t("div",at,[I(t("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>g.value=a),onKeydown:z(b,["enter"]),type:"text",placeholder:"Type a note or expense (e.g. '200 Lunch')",class:"w-full rounded-lg border border-gray-300 bg-transparent px-4 py-3 text-sm outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:text-white"},null,544),[[B,g.value]]),t("button",{onClick:b,class:"absolute right-2 top-2 rounded-md bg-brand-500 px-4 py-1.5 text-xs font-medium text-white transition hover:bg-brand-600"}," Add "),o[2]||(o[2]=t("p",{class:"mt-2 text-xs text-gray-400"},' Tip: Start with a number to log an expense (e.g., "500 Taxi"). ',-1))]),t("div",lt,[(i(!0),d(M,null,E(v.value,a=>(i(),d("div",{key:a.id,class:"group flex items-center gap-3 rounded-lg border border-gray-100 bg-gray-50 p-3 transition hover:border-gray-200 dark:border-gray-800 dark:bg-white/[0.02] dark:hover:border-gray-700"},[t("div",it,u(a.time),1),t("div",{class:L(["flex-1",a.isEditing?"":"cursor-pointer"]),onClick:c=>!a.isEditing&&y(a)},[a.isEditing?I((i(),d("input",{key:0,"onUpdate:modelValue":c=>a.text=c,onBlur:c=>n(a),onKeydown:z(c=>n(a),["enter"]),class:"w-full bg-transparent text-sm font-medium text-gray-800 outline-none dark:text-white",autoFocus:""},null,40,ct)),[[B,a.text]]):(i(),d("div",ut,[t("span",gt,u(a.text),1),a.amount?(i(),d("span",xt," -â‚¹"+u(a.amount),1)):F("",!0)]))],10,dt),t("button",{onClick:c=>A(w)(a.id),class:"opacity-0 transition group-hover:opacity-100 text-gray-400 hover:text-red-500"},o[3]||(o[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,pt)]))),128)),v.value.length===0?(i(),d("div",bt," No notes yet. ")):F("",!0)])]))}}),yt={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-theme-xs dark:border-gray-800 dark:bg-gray-900 overflow-hidden"},vt={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ft={class:"flex items-center gap-4"},ht={class:"flex flex-wrap gap-2"},kt=["onClick"],wt={class:"mb-4 flex items-center justify-between border-b pb-2 dark:border-gray-700"},_t={class:"font-bold text-black dark:text-white"},$t={class:"overflow-x-auto"},Dt={class:"min-w-[800px]"},Ct={class:"flex"},St={class:"max-h-[500px] overflow-y-auto custom-scrollbar space-y-[1px]"},Mt={class:"w-24 shrink-0 p-1 text-xs font-medium text-gray-700 dark:text-gray-300 border-r border-gray-100 dark:border-gray-700"},Et={class:"text-[10px] text-gray-400 ml-1"},jt={key:0,class:"absolute inset-0 left-24 right-16 z-10 cursor-not-allowed bg-gray-100/10",title:"Day is locked. Use Amend to edit."},Ft=["onMousedown","onMouseenter"],Lt={class:"w-16 shrink-0 flex items-center justify-center border-l border-gray-100 dark:border-gray-700 h-6"},Tt=["onClick"],Nt={key:1,class:"text-xs text-gray-400"},Ot={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},At={class:"w-full max-w-sm rounded-lg bg-white p-6 shadow-xl dark:bg-gray-800"},It={class:"mb-4"},Bt={class:"flex justify-end gap-2"},Vt=N({__name:"HourlyYearTracker",setup(O){const{gridData:h,updateGridCell:k,saveDay:w,unlockDay:g,isDayLocked:m}=T(),{categories:_}=T(),v=p(()=>_.value.map(l=>({...l,activeClass:"",bgClass:"",textClass:"text-white"}))),b=C("work"),y=C(0),n=C(!1),s=C(!1),o=C(""),a=["January","February","March","April","May","June","July","August","September","October","November","December"],c=p(()=>a[y.value]),$=p(()=>{const e=y.value,r=new Date(2026,e,1),x=[];for(;r.getMonth()===e;){const f=`2026-${String(e+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,j=r.toLocaleDateString("en-IN",{weekday:"short"}),Z=`${r.getDate()}/${e+1}`;x.push({dateStr:f,displayDate:Z,dayName:j}),r.setDate(r.getDate()+1)}return x}),D=l=>m(l),G=l=>{w(l)},P=()=>{if(o.value)if(m(o.value)){g(o.value),s.value=!1;const[l,e,r]=o.value.split("-").map(Number);l===2026&&(y.value=e-1)}else alert("This day is not locked, you can already edit it."),s.value=!1},W=l=>{const e=l>=12?"pm":"am";return`${l%12||12}${e}`},q=(l,e)=>{var f;const r=(f=h.value[l])==null?void 0:f[e];return r?v.value.find(j=>j.id===r)?"":"bg-gray-400":"bg-gray-100 dark:bg-gray-800 border-r border-gray-100 dark:border-gray-800"},Q=(l,e)=>{var f;const r=(f=h.value[l])==null?void 0:f[e];if(!r)return{};const x=v.value.find(j=>j.id===r);return x?{backgroundColor:x.color}:{}},V=(l,e)=>{k(l,e,b.value)},R=(l,e)=>{n.value=!0,V(l,e),window.addEventListener("mouseup",U)},X=(l,e)=>{n.value&&V(l,e)},U=()=>{n.value=!1,window.removeEventListener("mouseup",U)},H=l=>{let e=y.value+l;e<0&&(e=0),e>11&&(e=11),y.value=e};return(l,e)=>(i(),d("div",yt,[t("div",vt,[e[7]||(e[7]=t("h3",{class:"text-xl font-bold text-black dark:text-white"}," Hourly Habit Tracker (2026) ",-1)),t("div",ft,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold text-black dark:text-white"}," Hourly Habit Tracker (2026) ",-1)),t("button",{onClick:e[0]||(e[0]=r=>s.value=!0),class:"text-xs text-blue-500 hover:text-blue-700 underline"}," Amend ")]),t("div",ht,[t("button",{onClick:e[1]||(e[1]=r=>b.value="eraser"),class:L(["flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition-all border",b.value==="eraser"?"bg-gray-500 text-white border-gray-500":"text-gray-500 border-gray-300 dark:border-gray-600 dark:text-gray-400"])}," Eraser ",2),(i(!0),d(M,null,E(v.value,r=>(i(),d("button",{key:r.id,onClick:x=>b.value=r.id,class:"flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition-all text-white border",style:Y({backgroundColor:b.value===r.id?r.color:"transparent",borderColor:r.color,color:b.value===r.id?"#FFF":r.color})},u(r.label),13,kt))),128))])]),t("div",wt,[t("button",{onClick:e[2]||(e[2]=r=>H(-1)),class:"text-gray-500 hover:text-brand-500"}," â† Prev "),t("span",_t,u(c.value)+" 2026",1),t("button",{onClick:e[3]||(e[3]=r=>H(1)),class:"text-gray-500 hover:text-brand-500"}," Next â†’ ")]),t("div",$t,[t("div",Dt,[t("div",Ct,[e[8]||(e[8]=t("div",{class:"w-24 shrink-0 p-2 text-xs font-bold text-gray-500"},"Date",-1)),(i(),d(M,null,E(24,r=>t("div",{key:r,class:"flex-1 text-center text-[10px] font-bold text-gray-400"},u(W(r-1)),1)),64)),e[9]||(e[9]=t("div",{class:"w-16 shrink-0 p-2 text-center text-xs font-bold text-gray-500"},"Save",-1))]),t("div",St,[(i(!0),d(M,null,E($.value,r=>(i(),d("div",{key:r.dateStr,class:L(["flex items-center hover:bg-gray-50 dark:hover:bg-white/[0.02] relative",{"opacity-75":D(r.dateStr)}])},[t("div",Mt,[K(u(r.displayDate)+" ",1),t("span",Et,u(r.dayName),1)]),D(r.dateStr)?(i(),d("div",jt)):F("",!0),(i(),d(M,null,E(24,x=>t("div",{key:x,onMousedown:f=>!D(r.dateStr)&&R(r.dateStr,x-1),onMouseenter:f=>!D(r.dateStr)&&X(r.dateStr,x-1),class:L(["flex-1 h-6 cursor-pointer border-r border-gray-100 dark:border-gray-700 transition-colors duration-75 text-[8px] flex items-center justify-center text-white/50",q(r.dateStr,x-1)]),style:Y(Q(r.dateStr,x-1))},null,46,Ft)),64)),t("div",Lt,[!D(r.dateStr)&&r.dateStr<new Date().toISOString().split("T")[0]?(i(),d("button",{key:0,onClick:x=>G(r.dateStr),class:"text-[10px] px-2 py-0.5 bg-green-500 text-white rounded hover:bg-green-600 transition"}," Save ",8,Tt)):D(r.dateStr)?(i(),d("span",Nt," ðŸ”’ ")):F("",!0)])],2))),128))])])]),s.value?(i(),d("div",Ot,[t("div",At,[e[11]||(e[11]=t("h3",{class:"mb-4 text-lg font-bold text-gray-900 dark:text-white"},"Amend Past Date",-1)),e[12]||(e[12]=t("p",{class:"mb-4 text-sm text-gray-500 dark:text-gray-400"}," Select a date to unlock for editing. You can only amend 1 day prior if previously saved. ",-1)),t("div",It,[e[10]||(e[10]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"},"Date",-1)),I(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=r=>o.value=r),class:"w-full rounded border border-gray-300 bg-transparent px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:text-white"},null,512),[[B,o.value]])]),t("div",Bt,[t("button",{onClick:e[5]||(e[5]=r=>s.value=!1),class:"rounded px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}," Cancel "),t("button",{onClick:P,class:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700"}," Unlock & Edit ")])])])):F("",!0),e[13]||(e[13]=t("p",{class:"mt-4 text-xs text-gray-400 text-center"}," Click or drag across cells to paint your day. Log what you did every hour. ",-1))]))}}),Ut=st(Vt,[["__scopeId","data-v-1db4838d"]]),Ht={class:"col-span-12 rounded-lg border border-gray-200 bg-white px-5 pt-7.5 pb-5 shadow-theme-xs dark:border-gray-800 dark:bg-gray-900 sm:px-7.5 xl:col-span-8"},zt={class:"mb-3 justify-between gap-4 sm:flex"},Yt={class:"relative z-20 inline-block"},Kt={class:"font-medium text-gray-500"},Jt={class:"mb-2"},Gt={id:"chartThree",class:"mx-auto flex justify-center"},Pt={class:"-mx-8 flex flex-wrap items-center justify-center gap-y-3"},Wt={class:"w-full px-8 sm:w-1/2"},qt={class:"flex w-full items-center"},Qt={class:"flex w-full justify-between text-sm font-medium text-black dark:text-white"},Rt={class:"w-full px-8 sm:w-1/2"},Xt={class:"flex w-full items-center"},Zt={class:"flex w-full justify-between text-sm font-medium text-black dark:text-white"},te=N({__name:"MonthlyOverview",setup(O){const{dailyEntries:h,financeCategories:k}=T(),w=p(()=>new Date().toLocaleString("default",{month:"long",year:"numeric"})),g=p(()=>{const n=new Date;return h.value.filter(s=>{const o=new Date(s.date);return o.getMonth()===n.getMonth()&&o.getFullYear()===n.getFullYear()})}),m=p(()=>g.value.filter(n=>n.category==="finance"||k.value.some(s=>s.toLowerCase()===n.category.toLowerCase())).reduce((n,s)=>n+(s.amount||0),0)),_=p(()=>g.value.length),v=p(()=>{const n={};return g.value.forEach(s=>{if(s.amount)n.Finance=(n.Finance||0)+s.amount;else{const o=s.category==="general"?"Others":s.category.charAt(0).toUpperCase()+s.category.slice(1);n[o]=(n[o]||0)+1}}),Object.keys(n).length===0?[1]:Object.values(n)}),b=p(()=>{const n={};return g.value.forEach(s=>{if(s.amount)n.Finance=1;else{const o=s.category==="general"?"Others":s.category.charAt(0).toUpperCase()+s.category.slice(1);n[o]=1}}),Object.keys(n).length===0?["No Data"]:Object.keys(n)}),y=p(()=>({chart:{type:"donut",fontFamily:"Satoshi, sans-serif"},colors:["#3C50E0","#6577F3","#8FD0EF","#0FADCF"],labels:b.value,legend:{show:!1,position:"bottom"},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!0},value:{show:!0,formatter:n=>n},total:{show:!0,label:"Entries",formatter:()=>g.value.length}}}}},dataLabels:{enabled:!1},responsive:[{breakpoint:2600,options:{chart:{width:380}}},{breakpoint:640,options:{chart:{width:200}}}]}));return(n,s)=>{const o=J("apexchart");return i(),d("div",Ht,[t("div",zt,[s[0]||(s[0]=t("div",null,[t("h5",{class:"text-xl font-bold text-black dark:text-white"}," Monthly Analytics ")],-1)),t("div",null,[t("div",Yt,[t("span",Kt,u(w.value),1)])])]),t("div",Jt,[t("div",Gt,[S(o,{type:"donut",width:"380",options:y.value,series:v.value},null,8,["options","series"])])]),t("div",Pt,[t("div",Wt,[t("div",qt,[s[2]||(s[2]=t("span",{class:"mr-2 block h-3 w-full max-w-3 rounded-full bg-blue-500"},null,-1)),t("p",Qt,[s[1]||(s[1]=t("span",null," Total Expense ",-1)),t("span",null," â‚¹"+u(m.value),1)])])]),t("div",Rt,[t("div",Xt,[s[4]||(s[4]=t("span",{class:"mr-2 block h-3 w-full max-w-3 rounded-full bg-green-500"},null,-1)),t("p",Zt,[s[3]||(s[3]=t("span",null," Tasks Logged ",-1)),t("span",null,u(_.value),1)])])])])])}}}),ee={class:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10"},se={class:"mb-6"},re={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:gap-7.5"},oe={class:"col-span-1 md:col-span-2 lg:col-span-2"},ne={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},ae={class:"flex items-center justify-between mb-4"},le={class:"space-y-4"},ie={class:"flex items-center justify-between border-b border-gray-100 pb-2 dark:border-gray-800"},de={class:"text-lg font-bold text-brand-500"},ce={class:"flex items-center justify-between border-b border-gray-100 pb-2 dark:border-gray-800"},ue={class:"text-sm font-medium text-gray-500"},ge={class:"text-sm font-bold text-red-500"},xe={class:"space-y-2 pt-2"},pe={class:"flex items-center gap-2"},be={class:"text-xs text-gray-500"},me={class:"text-xs font-medium text-black dark:text-white"},ye={class:"mt-4 grid grid-cols-12 gap-4 md:mt-6 md:gap-6 2xl:mt-7.5 2xl:gap-7.5"},ve={class:"col-span-12"},_e=N({__name:"TrackingDashboard",setup(O){const{getNetBalance:h,getMonthlyFinance:k,accounts:w,balanceLogs:g}=T(),m=new Date().toISOString().split("T")[0],_=new Date().toLocaleString("default",{month:"short"}),v=p(()=>h(m)),b=p(()=>{const s=new Date;return k(s.getMonth(),s.getFullYear())}),y=p(()=>{let o=g.value[m];if(!o){const c=Object.keys(g.value).sort().reverse().find($=>$<=m);c&&(o=g.value[c])}return w.value.map(a=>({id:a.id,name:a.name,type:a.type,balance:o&&o[a.id]||0}))}),n=s=>"â‚¹"+s.toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0});return(s,o)=>{const a=J("router-link");return i(),d("div",ee,[S(tt,{title:"Daily Overview"}),t("div",se,[S(Ut)]),t("div",re,[t("div",oe,[S(mt)]),t("div",ne,[t("div",ae,[o[1]||(o[1]=t("h3",{class:"text-xl font-bold text-black dark:text-white"},"Active Accounts",-1)),S(a,{to:"/financial-tracker",class:"text-xs text-brand-500 hover:underline"},{default:et(()=>o[0]||(o[0]=[K("Manage")])),_:1})]),t("div",le,[t("div",ie,[o[2]||(o[2]=t("span",{class:"text-sm font-medium text-gray-500"},"Net Worth",-1)),t("span",de,u(n(v.value)),1)]),t("div",ce,[t("span",ue,"Expense ("+u(A(_))+")",1),t("span",ge,u(n(b.value)),1)]),t("div",xe,[(i(!0),d(M,null,E(y.value,c=>(i(),d("div",{key:c.id,class:"flex items-center justify-between"},[t("div",pe,[t("span",{class:L(["h-2 w-2 rounded-full",c.type==="credit"?"bg-red-500":"bg-brand-500"])},null,2),t("span",be,u(c.name),1)]),t("span",me,u(n(c.balance)),1)]))),128))])])])]),t("div",ye,[t("div",ve,[S(te)])])])}}});export{_e as default};
