import{d as Q,r as n,o,a,j as X,b as e,u as s,F as m,f,w as b,v as c,p as Y,e as D,i as h,n as Z,t as y,h as ee,q as te}from"./index-DsleNGlg.js";import{u as re,_ as oe}from"./useTracker-BaQ-do2c.js";import"./useAuth-CezXVzgo.js";const ae={class:"space-y-6"},de={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},se={class:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-800"},le={key:0},ne={key:1},ie={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},be={class:"p-6"},ge={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},ue={class:"flex items-center gap-3"},pe={key:0},ce={key:1},ye={class:"font-medium text-black dark:text-white"},xe={class:"text-xs text-gray-500 capitalize"},ke=["onClick"],ve={class:"flex flex-col gap-4 border-t border-gray-200 pt-6 dark:border-gray-800 sm:flex-row sm:items-end"},me={class:"flex-1"},fe=["disabled"],he={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},we={class:"p-6"},Ce={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},_e=["onDblclick"],Ae={class:"flex items-center gap-3"},Me={class:"font-medium text-black dark:text-white"},Se=["onClick"],De={class:"flex flex-col gap-4 border-t border-gray-200 pt-6 dark:border-gray-800 sm:flex-row sm:items-end"},Te={class:"flex-1"},Ve=["disabled"],$e={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},Be={class:"p-6"},Ie={class:"flex flex-wrap gap-2 mb-4"},je=["onClick"],Ee={class:"flex gap-2"},Ne={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},Ue={class:"p-6"},Fe={class:"flex flex-wrap gap-2 mb-4"},Oe=["onClick"],He={class:"flex gap-2"},Re={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},ze={class:"p-6"},Ke={class:"flex flex-wrap gap-2 mb-4"},Le=["onClick"],We={class:"flex gap-2"},Je={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},qe={class:"p-6 flex flex-col gap-4 sm:flex-row"},Ge={class:"relative"},Ze=Q({__name:"SettingsView",setup(Pe){const{categories:I,addCategory:j,removeCategory:E,updateCategory:N,taskCategories:U,financeCategories:F,investCategories:O,addExtendedCategory:A,removeExtendedCategory:M,toggleTheme:T,isDarkMode:H,accounts:R,addAccount:z,removeAccount:K}=re(),w=n(null),S=n(null),L=d=>{S.value=d.id,w.value&&(w.value.value=d.color,w.value.click())},W=d=>{const t=d.target;S.value&&t.value&&N(S.value,{color:t.value})},g=n(""),C=n("#3C50E0"),J=()=>{g.value&&(j(g.value,C.value),g.value="",C.value="#"+Math.floor(Math.random()*16777215).toString(16))},x=n(""),k=n(""),v=n(""),u=d=>{d==="task"&&x.value&&(A("task",x.value),x.value=""),d==="finance"&&k.value&&(A("finance",k.value),k.value=""),d==="invest"&&v.value&&(A("invest",v.value),v.value="")},p=n(""),_=n("bank"),q=()=>{p.value&&(z(p.value,_.value),p.value="",_.value="bank")},G=()=>{const d={};for(let l=0;l<localStorage.length;l++){const i=localStorage.key(l);i&&(i.startsWith("tracker_")||i.startsWith("year_"))&&(d[i]=localStorage.getItem(i))}const t=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=`backup-${new Date().toISOString().split("T")[0]}.json`,r.click()},P=d=>{var l;const t=d.target;if(!((l=t.files)!=null&&l.length))return;const r=new FileReader;r.onload=i=>{var V;try{const $=JSON.parse((V=i.target)==null?void 0:V.result);Object.keys($).forEach(B=>{localStorage.setItem(B,$[B])}),alert("Data restored successfully! reloading..."),window.location.reload()}catch{alert("Invalid backup file")}},r.readAsText(t.files[0])};return(d,t)=>(o(),a("div",ae,[X(oe,{title:"Settings"}),e("div",de,[e("div",se,[t[14]||(t[14]=e("div",null,[e("h3",{class:"font-bold text-black dark:text-white"},"Theme Customization"),e("p",{class:"text-sm text-gray-500"},"Choose your preferred appearance.")],-1)),e("button",{onClick:t[0]||(t[0]=(...r)=>s(T)&&s(T)(...r)),class:"flex items-center gap-2 rounded bg-gray-100 px-4 py-2 text-sm font-medium text-black hover:bg-gray-200 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700"},[s(H)?(o(),a("span",le,"â˜€ï¸ Switch to Light")):(o(),a("span",ne,"ðŸŒ™ Switch to Dark"))])])]),e("div",ie,[t[18]||(t[18]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Bank Accounts & Cards"),e("p",{class:"text-sm text-gray-500"},"Manage your financial accounts.")],-1)),e("div",be,[e("div",ge,[(o(!0),a(m,null,f(s(R),r=>(o(),a("div",{key:r.id,class:"flex items-center justify-between rounded border border-gray-200 p-3 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-white/[0.02]"},[e("div",ue,[e("span",{class:Z(["flex h-8 w-8 items-center justify-center rounded-full bg-opacity-10",r.type==="credit"?"bg-red-500 text-red-500":"bg-blue-500 text-blue-500"])},[r.type==="credit"?(o(),a("span",pe,"ðŸ’³")):(o(),a("span",ce,"ðŸ¦"))],2),e("div",null,[e("p",ye,y(r.name),1),e("p",xe,y(r.type),1)])]),e("button",{onClick:l=>s(K)(r.id),class:"text-gray-400 hover:text-red-500"},"Ã—",8,ke)]))),128))]),e("div",ve,[e("div",me,[t[15]||(t[15]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"Account Name",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>p.value=r),type:"text",placeholder:"e.g. HDFC Salary",class:"w-full rounded border border-gray-300 bg-transparent px-4 py-2 font-medium outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400"},null,512),[[c,p.value]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"Type",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>_.value=r),class:"h-[42px] w-full rounded border border-gray-300 bg-transparent px-4 py-2 font-medium outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},t[16]||(t[16]=[e("option",{value:"bank"},"Bank",-1),e("option",{value:"credit"},"Credit Card",-1),e("option",{value:"wallet"},"Wallet",-1)]),512),[[Y,_.value]])]),e("button",{onClick:q,class:"rounded bg-brand-500 px-6 py-2.5 font-medium text-white hover:bg-brand-600 disabled:opacity-50",disabled:!p.value},"Add",8,fe)])])]),e("div",he,[t[22]||(t[22]=e("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Habit Categories"),e("p",{class:"text-sm text-gray-500"},"For the Hourly Grid Tracker.")],-1)),e("div",we,[e("div",Ce,[(o(!0),a(m,null,f(s(I),r=>(o(),a("div",{key:r.id,class:"flex items-center justify-between rounded border border-gray-200 p-3 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-white/[0.02]",onDblclick:l=>L(r),title:"Double-click to edit color"},[e("div",Ae,[e("span",{class:"h-6 w-6 rounded shadow-sm",style:ee({backgroundColor:r.color})},null,4),e("span",Me,y(r.label),1)]),e("button",{onClick:te(l=>s(E)(r.id),["stop"]),class:"text-gray-400 hover:text-red-500"},t[19]||(t[19]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6m4-6v6"})],-1)]),8,Se)],40,_e))),128)),e("input",{type:"color",ref_key:"editColorInputRef",ref:w,class:"absolute opacity-0 pointer-events-none",onChange:W},null,544)]),e("div",De,[e("div",Te,[t[20]||(t[20]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"New Habit Category",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>g.value=r),type:"text",placeholder:"e.g. Coding",class:"w-full rounded border border-gray-300 bg-transparent px-4 py-2 font-medium outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400"},null,512),[[c,g.value]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"Color",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>C.value=r),type:"color",class:"h-[42px] w-[80px] cursor-pointer rounded border border-gray-300 bg-transparent p-1 dark:border-gray-700"},null,512),[[c,C.value]])]),e("button",{onClick:J,class:"rounded bg-brand-500 px-6 py-2.5 font-medium text-white hover:bg-brand-600 disabled:opacity-50",disabled:!g.value},"Add",8,Ve)])])]),e("div",$e,[t[23]||(t[23]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Task Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Daily Tasks.")],-1)),e("div",Be,[e("div",Ie,[(o(!0),a(m,null,f(s(U),r=>(o(),a("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700 dark:text-white"},[h(y(r)+" ",1),e("button",{onClick:l=>s(M)("task",r),class:"text-gray-400 hover:text-red-500"},"Ã—",8,je)]))),128))]),e("div",Ee,[b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>x.value=r),type:"text",placeholder:"Add Task Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400",onKeyup:t[6]||(t[6]=D(r=>u("task"),["enter"]))},null,544),[[c,x.value]]),e("button",{onClick:t[7]||(t[7]=r=>u("task")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",Ne,[t[24]||(t[24]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Finance Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Daily Expenditures.")],-1)),e("div",Ue,[e("div",Fe,[(o(!0),a(m,null,f(s(F),r=>(o(),a("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700 dark:text-white"},[h(y(r)+" ",1),e("button",{onClick:l=>s(M)("finance",r),class:"text-gray-400 hover:text-red-500"},"Ã—",8,Oe)]))),128))]),e("div",He,[b(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>k.value=r),type:"text",placeholder:"Add Finance Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400",onKeyup:t[9]||(t[9]=D(r=>u("finance"),["enter"]))},null,544),[[c,k.value]]),e("button",{onClick:t[10]||(t[10]=r=>u("finance")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",Re,[t[25]||(t[25]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Investment Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Investments.")],-1)),e("div",ze,[e("div",Ke,[(o(!0),a(m,null,f(s(O),r=>(o(),a("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700 dark:text-white"},[h(y(r)+" ",1),e("button",{onClick:l=>s(M)("invest",r),class:"text-gray-400 hover:text-red-500"},"Ã—",8,Le)]))),128))]),e("div",We,[b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>v.value=r),type:"text",placeholder:"Add Investment Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400",onKeyup:t[12]||(t[12]=D(r=>u("invest"),["enter"]))},null,544),[[c,v.value]]),e("button",{onClick:t[13]||(t[13]=r=>u("invest")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",Je,[t[28]||(t[28]=e("div",{class:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[e("div",null,[e("h3",{class:"font-bold text-black dark:text-white"},"Data Management"),e("p",{class:"text-sm text-gray-500"},"Backup your data or restore from a file. Essential for updates.")])],-1)),e("div",qe,[e("button",{onClick:G,class:"flex items-center gap-2 rounded bg-brand-500 px-6 py-2.5 font-medium text-white hover:bg-brand-600"},t[26]||(t[26]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1),h(" Export Backup ")])),e("div",Ge,[e("input",{type:"file",onChange:P,accept:".json",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32),t[27]||(t[27]=e("button",{class:"flex items-center gap-2 rounded border border-gray-300 px-6 py-2.5 font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})]),h(" Import Backup ")],-1))])])])]))}});export{Ze as default};
